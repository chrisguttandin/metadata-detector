// tslint:disable-next-line:max-line-length
export const worker = `!function(){"use strict";var e=function(e){for(var t=2130706432,r=0;t;)r>>=1,r|=e&t,t>>=8;return r},t=null,r=function(e){return"TextDecoder"in self?(null===t&&(t=new TextDecoder("utf-8")),t.decode(e)):String.fromCharCode.apply(null,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},n=function(t){var n=[],a=new DataView(t,0,4);if("fLaC"===r(a)){for(var i=!1,f=0,o=4;!i;)o+=f,i=0!=(128&(a=new DataView(t,o,4)).getUint8(0)),f=4+(a.getUint8(3)|a.getUint8(2)<<8|a.getUint8(1)<<16);n.push([0,o+f])}if(a=new DataView(t,4,4),"ftyp"===r(a))for(var u=0;u<t.byteLength;){var s=(a=new DataView(t,u,4)).getUint32(0);a=new DataView(t,u+4,4);var l=r(a);"moov"!==l&&"wide"!==l||n.push([u,u+s]),u+=s}if(a=new DataView(t,0,3),"ID3"===r(a)&&(a=new DataView(t,6,4),n.push([0,e(a.getUint32(0))+10])),a=new DataView(t,0,4),"OggS"===r(a))for(var y=0,w=(a=new DataView(t,4,1)).getUint8(0);0===w&&y<t.byteLength;){var c=(a=new DataView(t,y+5,22)).getUint8(21);a=new DataView(t,y+27,c+1);for(var g=27+c,h=0;h<c;h+=1)g+=a.getUint8(h);3===a.getUint8(c)&&(a=new DataView(t,y+27+c+1,6),"vorbis"===r(a)&&n.push([y,y+g])),y+=g}return a=new DataView(t,t.byteLength-128,3),"TAG"===r(a)&&n.push([t.byteLength-128,t.byteLength]),n},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r=e.array,n=e.offset;return r.set(new Uint8Array(t),n),n+=t.byteLength,{array:r,offset:n}},{array:new Uint8Array(t.reduce(function(e,t){return e+t.byteLength},0)),offset:0}).array.buffer},i=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var f,o=e[Symbol.iterator]();!(n=(f=o.next()).done)&&(r.push(f.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){var t=0;return n(e).forEach(function(r){var n=i(r,2),f=n[0],o=n[1];e=f===t?e.slice(o,e.byteLength):o-t===e.byteLength?e.slice(0,f-t):a(e.slice(0,f-t),e.slice(o-t,e.byteLength)),t+=o-f}),e};addEventListener("message",function(e){var t=e.data;try{if("locate"===t.method){var r=t.id,a=t.params.arrayBuffer,i=n(a);postMessage({error:null,id:r,result:{locations:i}})}else if("strip"===t.method){var o=t.id,u=t.params.arrayBuffer,s=f(u);postMessage({error:null,id:o,result:{arrayBuffer:s}},[s])}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})}();`;
