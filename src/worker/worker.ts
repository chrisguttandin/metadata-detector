// tslint:disable-next-line:max-line-length
export const worker = `!function(){"use strict";var e=function(e){for(var t=2130706432,r=0;t;)r>>=1,r|=e&t,t>>=8;return r},t=null,r=function(e){return"TextDecoder"in self?(null===t&&(t=new TextDecoder("utf-8")),t.decode(e)):String.fromCharCode.apply(null,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},n=function(t){var n=[],a=new DataView(t,0,4);if("fLaC"===r(a)){for(var i=!1,o=0,u=4;!i;)u+=o,i=0!=(128&(a=new DataView(t,u,4)).getUint8(0)),o=4+(a.getUint8(3)|a.getUint8(2)<<8|a.getUint8(1)<<16);n.push([0,u+o])}if(a=new DataView(t,4,4),"ftyp"===r(a))for(var f=0;f<t.byteLength;){var s=(a=new DataView(t,f,4)).getUint32(0);a=new DataView(t,f+4,4);var c=r(a);"moov"!==c&&"wide"!==c||n.push([f,f+s]),f+=s}if(a=new DataView(t,0,3),"ID3"===r(a)&&(a=new DataView(t,6,4),n.push([0,e(a.getUint32(0))+10])),a=new DataView(t,0,4),"OggS"===r(a))for(var l=0,y=(a=new DataView(t,4,1)).getUint8(0);0===y&&l<t.byteLength;){var v=(a=new DataView(t,l+5,22)).getUint8(21);a=new DataView(t,l+27,v+1);for(var h=27+v,w=0;w<v;w+=1)h+=a.getUint8(w);3===a.getUint8(v)&&(a=new DataView(t,l+27+v+1,6),"vorbis"===r(a)&&n.push([l,l+h])),l+=h}return a=new DataView(t,t.byteLength-128,3),"TAG"===r(a)&&n.push([t.byteLength-128,t.byteLength]),n},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r=e.array,n=e.offset;return r.set(new Uint8Array(t),n),{array:r,offset:n+t.byteLength}},{array:new Uint8Array(t.reduce(function(e,t){return e+t.byteLength},0)),offset:0}).array.buffer},i=(function(){function e(e){this.value=e}function t(t){function r(a,i){try{var o=t[a](i),u=o.value;u instanceof e?Promise.resolve(u.value).then(function(e){r("next",e)},function(e){r("throw",e)}):n(o.done?"return":"normal",o.value)}catch(e){n("throw",e)}}function n(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}(a=a.next)?r(a.key,a.arg):i=null}var a,i;this._invoke=function(e,t){return new Promise(function(n,o){var u={key:e,arg:t,resolve:n,reject:o,next:null};i?i=i.next=u:(a=i=u,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),o=function(e){var t=0,r=e;return n(e).forEach(function(e){var n=i(e,2),o=n[0],u=n[1];r=o===t?r.slice(u,r.byteLength):u-t===r.byteLength?r.slice(0,o-t):a(r.slice(0,o-t),r.slice(u-t,r.byteLength)),t+=u-o}),r};addEventListener("message",function(e){var t=e.data;try{if("locate"===t.method){var r=t.id,a=t.params.arrayBuffer,i=n(a);postMessage({error:null,id:r,result:{locations:i}})}else if("strip"===t.method){var u=t.id,f=t.params.arrayBuffer,s=o(f);postMessage({error:null,id:u,result:{arrayBuffer:s}},[s])}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})}();`;
